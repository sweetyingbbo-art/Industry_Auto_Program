산업별 데이터를 수집하려면 기존의 데이터 수집 로직과 유사한 방식으로 새로운 섹션을 추가해야 합니다. 현재 코드 구조를 보면, 산업별 데이터를 수집하는 코드는 다음 위치에 추가할 수 있습니다:

1️⃣ run_original_pipeline 함수 내부
run_original_pipeline 함수는 데이터 수집, 통합, 전처리, 클러스터링, 메일 발송까지 전체 파이프라인을 실행합니다.
산업별 데이터 수집 코드는 "2) ERP 시장동향" 또는 **"3) 고객사 동향"**과 유사한 방식으로 추가할 수 있습니다.
예를 들어, query 리스트에 산업별 키워드를 추가하고, query_news_extract 또는 query_news_extractExternal을 호출하여 데이터를 수집합니다.
2️⃣ 추가할 위치
아래는 run_original_pipeline 함수에서 산업별 데이터를 수집하는 코드를 추가할 위치입니다:



def run_original_pipeline():
    print("[run_original_pipeline] START")

    # ... 기존 코드 ...

    # 5) 산업별 동향 (새로운 섹션 추가)
    industry_query = ["자동차 산업", "반도체 산업", "바이오 산업", "에너지 산업"]
    df_industry = pd.DataFrame()
    for industry in industry_query:
        for page in range(1, 3):  # 페이지 수 조정 가능
            params = {
                'query': industry,
                'display': 20,
                'start': page,
                'sort': 'sim'
            }
            if df_industry.empty:
                df_industry = query_news_extract(params, "산업별 동향")
            else:
                df_industry = pd.concat([df_industry, query_news_extract(params, "산업별 동향")])

    # 산업별 데이터 추가
    df_result = pd.concat([df_result, df_industry], axis=0, ignore_index=True)

    # ... 기존 코드 ...
